<ion-content #pageContent fullscreen>
    <form [formGroup]="formGroup">
        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label stacked>Região Agrosul</ion-label>
                        <ion-select multiple="true" formControlName="agLocationValue">
                            <ion-option *ngFor="let agLoc of agLocation"
                                (ionSelect)="getValueFromLocation(agLoc.locationName)" value="{{agLoc.id}}">
                                {{agLoc.locationName}}
                            </ion-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col col-2>
                    <ion-item>
                        <ion-label stacked>Ano Máquina</ion-label>
                        <ion-select multiple="true" formControlName="anoMaquinaValue">
                            <ion-option *ngFor="let ano of listAno" value="{{ano}}">{{ano}}
                            </ion-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col>
                    <button [disabled]="!isenabled" ion-button block (click)="submitForm($event)">Filtrar</button>
                </ion-col>
                <ion-col col-9>
                </ion-col>
            </ion-row>
        </ion-grid>
        <ion-row>

        </ion-row>
        <ion-row>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvas></canvas>
                        <div class="itemTotalDisplayCard">
                            <ion-row>
                                <ion-col>
                                    <ion-label stacked>Total Máq.</ion-label>
                                </ion-col>
                                <ion-col>
                                    <ion-input readonly="true" formControlName="sumMaquinas" type="text"></ion-input>
                                </ion-col>
                                <ion-col col-9></ion-col>
                            </ion-row>
                        </div>
                    </ion-card-content>
                </ion-card>
            </ion-col>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #pieCanvasCompared></canvas>
                        <div class="itemTotalDisplayCard">
                            <ion-row>
                                <ion-col>
                                    <ion-label stacked>Total Máq.</ion-label>
                                </ion-col>
                                <ion-col>
                                    <ion-input readonly="true" formControlName="sumMaquinasRegiao" type="text">
                                    </ion-input>
                                </ion-col>
                                <ion-col>
                                    <ion-input readonly="true" formControlName="pctRegiao" type="text"></ion-input>
                                </ion-col>
                                <ion-col col-8></ion-col>
                            </ion-row>
                        </div>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>

        <ion-row>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasCompared></canvas>
                    </ion-card-content>
                    <ion-row>
                        <ion-col>
                            <ion-label stacked>Total Ha</ion-label>
                        </ion-col>
                        <ion-col>
                            <ion-input readonly="true" formControlName="sumGP" type="text"></ion-input>
                        </ion-col>
                    </ion-row>
                </ion-card>
            </ion-col>

            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasDetail></canvas>
                    </ion-card-content>
                    <ion-row>
                        <ion-col>
                            <ion-label stacked>Total</ion-label>
                        </ion-col>
                        <ion-col>
                            <ion-input readonly="true" formControlName="sumPotMachine" type="text"></ion-input>
                        </ion-col>
                        <ion-col col-5>
                        </ion-col>
                        <ion-col>
                            <ion-label stacked>Média p/ Ha</ion-label>
                        </ion-col>
                        <ion-col>
                            <ion-input readonly="true" formControlName="mediaMaquinaGp" type="text"></ion-input>
                        </ion-col>

                    </ion-row>

                </ion-card>
            </ion-col>

        </ion-row>

        <ion-row>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasMachinesByBrand></canvas>
                    </ion-card-content>
                </ion-card>
            </ion-col>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasMachinesByYear></canvas>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasMachinesByYearNoDetail></canvas>
                    </ion-card-content>
                </ion-card>
            </ion-col>
            <ion-col col-6>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasBrandsByYear></canvas>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>

        <ion-row>
            <ion-col>
                <ion-card>
                    <ion-card-content>
                        <canvas #barCanvasDetailOwner></canvas>
                        <div class="itemTotalDisplayCard">
                            <ion-row>
                                <ion-col>
                                    <ion-label stacked>Total Máq.</ion-label>
                                </ion-col>
                                <ion-col>
                                    <ion-input readonly="true" formControlName="sumMaquinasRegiao" type="text">
                                    </ion-input>
                                </ion-col>
                                <ion-col col-9></ion-col>
                            </ion-row>
                        </div>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>

        <ion-row style="background-color:#d2ffd7;font-weight:bold">

            <ion-col>
                <ion-input readonly="true" formControlName="clientName" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="lastbrandName" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="clientTotalMaquinas" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="sumClientTotalCultiv" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="sumClientSoja" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="sumClientMilho" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="sumClientAlgodao" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <ion-input readonly="true" formControlName="sumClientFeijao" type="text"></ion-input>
            </ion-col>
            <ion-col>
                <button ion-button round small outline (click)="goToDetail()">ir</button>
            </ion-col>
        </ion-row>

    </form>

    <ngx-datatable class="bootstrap" [rows]="rows" [columnMode]="'force'" [sortType]="'multi'"
        [reorderable]="reorderable" [headerHeight]="50" [limit]="20" [footerHeight]="50" [rowHeight]="'auto'">
        <ngx-datatable-column name="tipoEquipamento">
            <ng-template ngx-datatable-header-template>Tipo Máquina</ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="marca">
            <ng-template ngx-datatable-header-template>Marca</ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="brandName" [resizeable]="false">
            <ng-template ngx-datatable-header-template>Modelo</ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="ano">
            <ng-template ngx-datatable-header-template>Ano</ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="detailTable">
            <ng-template ngx-datatable-header-template>Especificação</ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="total">
            <ng-template ngx-datatable-header-template>Quantidade</ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</ion-content>